<?php namespace App\Http\Controllers; use Illuminate\Http\Request; use App\rumahs; use App\kecamatans; class rumahController extends Controller {public function tampil() {$rumahs = rumahs::with('kecamatan')->get(); $kecamatans = kecamatans::all(); return view('kecamatan.rumah',['rumahs'=>$rumahs,'kecamatans'=>$kecamatans]); } public function tambah(Request $request) {$rumah = new rumahs; $rumah->id_kecamatan = $request->id_kecamatan; $rumah->nama = $request->nama; $rumah->alamat = $request->alamat; $rumah->save(); return redirect()->action('rumahController@tampil'); } public function ubah(Request $request) {$rumah = rumahs::find($request->id); $rumah->id_kecamatan = $request->id_kecamatan; $rumah->nama = $request->nama; $rumah->alamat = $request->alamat; $rumah->save(); return redirect()->action('rumahController@tampil'); } public function hapus(Request $request) {$rumah = rumahs::find($request->id); $rumah->delete(); return redirect()->action('rumahController@tampil'); } }