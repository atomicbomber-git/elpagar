@extends('layouts.layouts') @push('css') <link rel="stylesheet" type="text/css" href="assets/bootstrap-datepicker/css/datepicker.css" /> <link rel="stylesheet" type="text/css" href="assets/bootstrap-colorpicker/css/colorpicker.css" /> <link rel="stylesheet" type="text/css" href="assets/bootstrap-daterangepicker/daterangepicker.css" /> <link href="assets/advanced-datatable/media/css/demo_page.css" rel="stylesheet" /> <link href="assets/advanced-datatable/media/css/demo_table.css" rel="stylesheet" /> <link rel="stylesheet" href="assets/data-tables/DT_bootstrap.css" /> <!-- Custom styles for this template --> <link href="css/style.css" rel="stylesheet"> <link href="css/style-responsive.css" rel="stylesheet" /> @endpush @section('content') <div class="row"> <div class="col-lg-12"> <section class="panel"> <header class="panel-heading"> <i class="fa fa-tag"></i> Komentar </header> <div class="panel-body"> <div class="container-fluid"> <div class="adv-table"> <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered table-striped table-advance table-hover" id="komentar"> <thead> <tr> <th>No</th> <th>Tanggal</th> <th>Nama</th> <th>Email</th> <th>Judul</th> <th>Komentar</th> <th>Artikel/Halaman</th> <th></th> </tr> </thead> <tbody> @foreach($comments as $no => $comment) <tr> <td align="center">{{$no+1}}</td> <td>{{date_format($comment->created_at,"d-F-Y H:i")}}</td> <td align="center">{{$comment->nama}}</td> <td>{{$comment->email}}</td> <td>{{$comment->judul}}</td> <td>{{$comment->deskripsi}}</td> @if($comment->post!=null) <td align="center"><a href="/berita/{{$comment->post->id}}/{{$comment->post->slug}}#author">{{$comment->post->judul}}</a></td> @else <td align="center"><a href="/berita/{{$comment->page->id}}/{{$comment->page->slug}}#author">{{$comment->page->judul}}</a></td> @endif <td width="20%" align="center"> <button class="btn btn-xs btn-success" data-toggle="modal" href="#Balas{{$comment->id}}"><i class="fa fa-reply"></i> Balas</button> <button class="btn btn-xs btn-danger" data-toggle="modal" href="#modalHapus{{$comment->id}}"><i class="fa fa-trash"> Hapus</i></button> </td> </tr> @endforeach </tbody> </table> </div> </div> </section> </div> </div> <!-- MODAL COLLECTIONS --> @foreach($comments as $comment) <!-- Modal Tambah --> <div class="modal fade" id="Balas{{$comment->id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header" style="background-color: green;"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h4 class="modal-title">Balas Komentar</h4> </div> <div class="modal-body"> <form method="POST"> <input type="hidden" name="_token" value="{{ csrf_token() }}"> @if($comment->parent==null) <input type="hidden" name="parent" value="{{$comment->id}}"> @else <input type="hidden" name="parent" value="{{$comment->parent}}"> @endif <div class="alert alert-info fade in"> <label class="control-label"><strong>Isi Komentar : </strong></label> <blockquote>{{$comment->deskripsi}}</blockquote> </div> <div class="form-group"> <label class="control-label">Komentar Balasan</label> <textarea name="deskripsi" class="form-control" rows="5"></textarea> </div> <input type="hidden" name="id_posts" value="{{$comment->id_posts}}"> <input type="hidden" name="nama" value="{{ Auth::user()->name }}"> <input type="hidden" name="foto" value="{{ Auth::user()->foto }}"> <input type="hidden" name="email" value="{{ Auth::user()->email }}"> <div class="modal-footer"> <button type="submit" class="btn btn-success">Balas <i class="fa fa-chevron-right"></i></button> </div> </form> </div> </div> </div> </div> <!-- END modal tambah--> <!-- Modal ubah --> <div class="modal fade" id="modalUbah{{$comment->id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h4 class="modal-title">Ubah Komentar</h4> </div> <div class="modal-body"> <form method="POST"> <input type="hidden" name="_token" value="{{ csrf_token() }}"> <input type="hidden" name="_method" value="PUT"> <input type="hidden" name="id" value="{{$comment->id}}"> <div class="form-group"> <label class="control-label">Nama komentar</label> <input type="text" name="nama" class="form-control" value="{{$comment->nama}}"> </div> <div class="modal-footer"> <button type="submit" class="btn btn-primary">Ubah <i class="fa fa-chevron-right"></i></button> </div> </form> </div> </div> </div> </div> <!-- END modal ubah--> <!-- Modal hapus --> <div class="modal fade" id="modalHapus{{$comment->id}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"> <div class="modal-dialog modal-sm"> <div class="modal-content"> <div class="modal-header" style="background-color: red;"> <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button> <h4 class="modal-title">Hapus Komentar</h4> </div> <div class="modal-body"> <form method="POST"> <input type="hidden" name="_token" value="{{ csrf_token() }}"> <input type="hidden" name="_method" value="DELETE"> <input type="hidden" name="id" value="{{$comment->id}}"> <center> <p>Apakah anda yakin akan menghapus komentar</p> <p><strong>Nama : {{$comment->nama}}</strong> </p> <p><strong>Komentar : {{$comment->deskripsi}}</strong> ?</p> </center> <div class="modal-footer"> <button type="submit" class="btn btn-danger">Hapus <i class="fa fa-chevron-right"></i></button> </div> </form> </div> </div> </div> </div> <!-- END modal hapus--> @endforeach <!-- MODAL COLLECTIONS --> @endsection @push('js') <!-- js placed at the end of the document so the pages load faster --> <!--<script src="js/jquery.js"></script>--> <script type="text/javascript" language="javascript" src="/admin/assets/advanced-datatable/media/js/jquery.js"></script> <script src="/admin/js/bootstrap.min.js"></script> <script class="include" type="text/javascript" src="/admin/js/jquery.dcjqaccordion.2.7.js"></script> <script src="/admin/js/jquery.scrollTo.min.js"></script> <script src="/admin/js/jquery.nicescroll.js" type="text/javascript"></script> <script src="/admin/js/respond.min.js" ></script> <script type="text/javascript" language="javascript" src="/admin/assets/advanced-datatable/media/js/jquery.dataTables.js"></script> <script type="text/javascript" src="/admin/assets/data-tables/DT_bootstrap.js"></script> <!--common script for all pages--> <script src="js/common-scripts.js"></script> <script type="text/javascript"> $(document).ready(function() {$('#komentar').dataTable(); }); </script> @endpush